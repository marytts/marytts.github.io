<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_72) on Tue Feb 02 23:29:16 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EnergyAnalyser (marytts-signalproc 5.2-SNAPSHOT API)</title>
<meta name="date" content="2016-02-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EnergyAnalyser (marytts-signalproc 5.2-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EnergyAnalyser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../marytts/signalproc/analysis/ComplexLinearPredictor.html" title="class in marytts.signalproc.analysis"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../marytts/signalproc/analysis/EnergyAnalyser_dB.html" title="class in marytts.signalproc.analysis"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?marytts/signalproc/analysis/EnergyAnalyser.html" target="_top">Frames</a></li>
<li><a href="EnergyAnalyser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.marytts.signalproc.analysis.FrameBasedAnalyser">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">marytts.signalproc.analysis</div>
<h2 title="Class EnergyAnalyser" class="title">Class EnergyAnalyser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../marytts/signalproc/process/FrameProvider.html" title="class in marytts.signalproc.process">marytts.signalproc.process.FrameProvider</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">marytts.signalproc.analysis.FrameBasedAnalyser</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&gt;</li>
<li>
<ul class="inheritance">
<li>marytts.signalproc.analysis.EnergyAnalyser</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../marytts/signalproc/analysis/EnergyAnalyser_dB.html" title="class in marytts.signalproc.analysis">EnergyAnalyser_dB</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EnergyAnalyser</span>
extends <a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&gt;</pre>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Marc Schr&ouml;der
 
         A class that analyses the energy distribution, and computes a silence cutoff threshold, in the linear energy domain.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.marytts.signalproc.analysis.FrameBasedAnalyser">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;marytts.signalproc.analysis.<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser</a></h3>
<code><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.FrameAnalysisResult.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser.FrameAnalysisResult</a>&lt;<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.FrameAnalysisResult.html" title="type parameter in FrameBasedAnalyser.FrameAnalysisResult">T</a>&gt;</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#DEFAULT_MAXSIZE">DEFAULT_MAXSIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#frameEnergies">frameEnergies</a></span></code>
<div class="block">array of frame energies, for further analysis</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#len">len</a></span></code>
<div class="block">Length of valid data, counting from offset.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#maxSize">maxSize</a></span></code>
<div class="block">maximum size of the double[] storing the frame energies</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#offset">offset</a></span></code>
<div class="block">Beginning of valid data in frameEnergies; will be &gt;0 only after more than maxSize frames have been read.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.marytts.signalproc.analysis.FrameBasedAnalyser">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;marytts.signalproc.analysis.<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser</a></h3>
<code><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#analysisResults">analysisResults</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.marytts.signalproc.process.FrameProvider">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;marytts.signalproc.process.<a href="../../../marytts/signalproc/process/FrameProvider.html" title="class in marytts.signalproc.process">FrameProvider</a></h3>
<code><a href="../../../marytts/signalproc/process/FrameProvider.html#frame">frame</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#frameLength">frameLength</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#frameShift">frameShift</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#frameStart">frameStart</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#nextFrameStart">nextFrameStart</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#processor">processor</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#samplingRate">samplingRate</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#signal">signal</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#totalRead">totalRead</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#validSamplesInFrame">validSamplesInFrame</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-">EnergyAnalyser</a></span>(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
              int&nbsp;framelength,
              int&nbsp;samplingRate)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-int-">EnergyAnalyser</a></span>(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
              int&nbsp;framelength,
              int&nbsp;frameShift,
              int&nbsp;samplingRate)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-int-int-">EnergyAnalyser</a></span>(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
              int&nbsp;framelength,
              int&nbsp;frameShift,
              int&nbsp;samplingRate,
              int&nbsp;maxSize)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#analyse-double:A-">analyse</a></span>(double[]&nbsp;frame)</code>
<div class="block">Apply this FrameBasedAnalyser to the given data.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#energySegmentation-java.lang.String:A-">energySegmentation</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>
<div class="block">Segment a WAVE file by energy, ideally one word per segment (the result might contain more); the result is saved in a file
 in transcriber format so the segmentation can be easily inspected and corrected.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getEnergyHistogram--">getEnergyHistogram</a></span>()</code>
<div class="block">Compute a histogram of energies found in the data.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getEnergyHistogram-int-">getEnergyHistogram</a></span>(int&nbsp;nbins)</code>
<div class="block">Compute a histogram of energies found in the data.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getMaxFrameEnergy--">getMaxFrameEnergy</a></span>()</code>
<div class="block">Compute the overall maximum energy in all frames.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getMeanFrameEnergy--">getMeanFrameEnergy</a></span>()</code>
<div class="block">Compute the overall mean energy in all frames.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getMinFrameEnergy--">getMinFrameEnergy</a></span>()</code>
<div class="block">Compute the overall minimum energy in all frames.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getSilenceCutoff--">getSilenceCutoff</a></span>()</code>
<div class="block">Determine the energy level below which to find silence.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getSilenceCutoffFromKMeansClustering-double-int-">getSilenceCutoffFromKMeansClustering</a></span>(double&nbsp;shiftFromMinimumEnergyCenter,
                                    int&nbsp;numClusters)</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getSilenceCutoffFromSortedEnergies-marytts.signalproc.analysis.FrameBasedAnalyser.FrameAnalysisResult:A-double-">getSilenceCutoffFromSortedEnergies</a></span>(<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.FrameAnalysisResult.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser.FrameAnalysisResult</a>[]&nbsp;far,
                                  double&nbsp;silenceThreshold)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getSpeechStretches--">getSpeechStretches</a></span>()</code>
<div class="block">For the current audio data and the automatically calculated silence cutoff, compute a list of start and end times
 representing speech stretches within the file.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#getSpeechStretchesUsingEnergyHistory-int-double-double-double-int-">getSpeechStretchesUsingEnergyHistory</a></span>(int&nbsp;energyBufferLength,
                                    double&nbsp;speechStartLikelihood,
                                    double&nbsp;speechEndLikelihood,
                                    double&nbsp;shiftFromMinimumEnergyCenter,
                                    int&nbsp;numClusters)</code>
<div class="block">The latest version uses K-Means clustering to cluster energy values into 3 separate clusters.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#main-java.lang.String:A-">main</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../marytts/signalproc/analysis/EnergyAnalyser.html#rememberFrameEnergy-double-">rememberFrameEnergy</a></span>(double&nbsp;energy)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.marytts.signalproc.analysis.FrameBasedAnalyser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;marytts.signalproc.analysis.<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser</a></h3>
<code><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#analyseAllFrames--">analyseAllFrames</a>, <a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#analyseAvailableFrames--">analyseAvailableFrames</a>, <a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#analyseNextFrame--">analyseNextFrame</a>, <a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#constructAnalysisResult-T-">constructAnalysisResult</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.marytts.signalproc.process.FrameProvider">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;marytts.signalproc.process.<a href="../../../marytts/signalproc/process/FrameProvider.html" title="class in marytts.signalproc.process">FrameProvider</a></h3>
<code><a href="../../../marytts/signalproc/process/FrameProvider.html#getCurrentFrame--">getCurrentFrame</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getData-int-">getData</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameLengthSamples--">getFrameLengthSamples</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameLengthTime--">getFrameLengthTime</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameShiftSamples--">getFrameShiftSamples</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameShiftTime--">getFrameShiftTime</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameStartSamples--">getFrameStartSamples</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameStartTime--">getFrameStartTime</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getNextFrame--">getNextFrame</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#getSamplingRate--">getSamplingRate</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#hasMoreData--">hasMoreData</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#resetInternalTimer--">resetInternalTimer</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#stopWhenTouchingEnd--">stopWhenTouchingEnd</a>, <a href="../../../marytts/signalproc/process/FrameProvider.html#validSamplesInFrame--">validSamplesInFrame</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEFAULT_MAXSIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_MAXSIZE</h4>
<pre>protected final&nbsp;int DEFAULT_MAXSIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#marytts.signalproc.analysis.EnergyAnalyser.DEFAULT_MAXSIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="frameEnergies">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>frameEnergies</h4>
<pre>protected&nbsp;double[] frameEnergies</pre>
<div class="block">array of frame energies, for further analysis</div>
</li>
</ul>
<a name="offset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>offset</h4>
<pre>protected&nbsp;int offset</pre>
<div class="block">Beginning of valid data in frameEnergies; will be &gt;0 only after more than maxSize frames have been read.</div>
</li>
</ul>
<a name="len">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>len</h4>
<pre>protected&nbsp;int len</pre>
<div class="block">Length of valid data, counting from offset. This will count up to maxSize and then stay equal to maxSize.</div>
</li>
</ul>
<a name="maxSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>maxSize</h4>
<pre>protected&nbsp;int maxSize</pre>
<div class="block">maximum size of the double[] storing the frame energies</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EnergyAnalyser</h4>
<pre>public&nbsp;EnergyAnalyser(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
                      int&nbsp;framelength,
                      int&nbsp;samplingRate)</pre>
</li>
</ul>
<a name="EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EnergyAnalyser</h4>
<pre>public&nbsp;EnergyAnalyser(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
                      int&nbsp;framelength,
                      int&nbsp;frameShift,
                      int&nbsp;samplingRate)</pre>
</li>
</ul>
<a name="EnergyAnalyser-marytts.util.data.DoubleDataSource-int-int-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EnergyAnalyser</h4>
<pre>public&nbsp;EnergyAnalyser(<a href="../../../marytts/util/data/DoubleDataSource.html" title="interface in marytts.util.data">DoubleDataSource</a>&nbsp;signal,
                      int&nbsp;framelength,
                      int&nbsp;frameShift,
                      int&nbsp;samplingRate,
                      int&nbsp;maxSize)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="analyse-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyse</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;analyse(double[]&nbsp;frame)</pre>
<div class="block">Apply this FrameBasedAnalyser to the given data.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html#analyse-double:A-">analyse</a></code>&nbsp;in class&nbsp;<code><a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>frame</code> - the data to analyse, which must be of the length prescribed by this FrameBasedAnalyser, i.e. by works like
            <a href="../../../marytts/signalproc/process/FrameProvider.html#getFrameLengthSamples--"><code>FrameProvider.getFrameLengthSamples()</code></a> .</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a Double representing the total energy in the frame.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if frame does not have the prescribed length</dd>
</dl>
</li>
</ul>
<a name="rememberFrameEnergy-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberFrameEnergy</h4>
<pre>protected&nbsp;void&nbsp;rememberFrameEnergy(double&nbsp;energy)</pre>
</li>
</ul>
<a name="getMeanFrameEnergy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMeanFrameEnergy</h4>
<pre>public&nbsp;double&nbsp;getMeanFrameEnergy()</pre>
<div class="block">Compute the overall mean energy in all frames.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a double representing the mean energy (non-normalised, i.e. in units of square sample amplitudes).</dd>
</dl>
</li>
</ul>
<a name="getMaxFrameEnergy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxFrameEnergy</h4>
<pre>public&nbsp;double&nbsp;getMaxFrameEnergy()</pre>
<div class="block">Compute the overall maximum energy in all frames.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a double representing the maximum energy (non-normalised, i.e. in units of square sample amplitudes).</dd>
</dl>
</li>
</ul>
<a name="getMinFrameEnergy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinFrameEnergy</h4>
<pre>public&nbsp;double&nbsp;getMinFrameEnergy()</pre>
<div class="block">Compute the overall minimum energy in all frames.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a double representing the minimum energy (non-normalised, i.e. in units of square sample amplitudes).</dd>
</dl>
</li>
</ul>
<a name="getEnergyHistogram--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnergyHistogram</h4>
<pre>public&nbsp;double[]&nbsp;getEnergyHistogram()</pre>
<div class="block">Compute a histogram of energies found in the data. Bin sizes are automatically determined based on the min and max frame
 energies, such that the interval between min and max energy is split into 100 bins.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of doubles of length nbins, representing percentage distribution across bins.</dd>
</dl>
</li>
</ul>
<a name="getEnergyHistogram-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEnergyHistogram</h4>
<pre>public&nbsp;double[]&nbsp;getEnergyHistogram(int&nbsp;nbins)</pre>
<div class="block">Compute a histogram of energies found in the data. Bin sizes are automatically determined based on the min and max frame
 energies, such that the interval between min and max energy is split into nbins bins.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nbins</code> - the number of bins to compute, e.g. 100</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of doubles of length nbins, representing percentage distribution across bins.</dd>
</dl>
</li>
</ul>
<a name="getSilenceCutoff--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSilenceCutoff</h4>
<pre>public&nbsp;double&nbsp;getSilenceCutoff()</pre>
<div class="block">Determine the energy level below which to find silence. This is based on the energy histogram.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the energy below which is silence.</dd>
</dl>
</li>
</ul>
<a name="getSilenceCutoffFromSortedEnergies-marytts.signalproc.analysis.FrameBasedAnalyser.FrameAnalysisResult:A-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSilenceCutoffFromSortedEnergies</h4>
<pre>public&nbsp;double&nbsp;getSilenceCutoffFromSortedEnergies(<a href="../../../marytts/signalproc/analysis/FrameBasedAnalyser.FrameAnalysisResult.html" title="class in marytts.signalproc.analysis">FrameBasedAnalyser.FrameAnalysisResult</a>[]&nbsp;far,
                                                 double&nbsp;silenceThreshold)</pre>
</li>
</ul>
<a name="getSpeechStretches--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpeechStretches</h4>
<pre>public&nbsp;double[][]&nbsp;getSpeechStretches()</pre>
<div class="block">For the current audio data and the automatically calculated silence cutoff, compute a list of start and end times
 representing speech stretches within the file. This method will take the following System properties into account:
 <ul>
 <li><code>signalproc.minsilenceduration</code> (default: 0.1 (seconds))
 <li><code>signalproc.minspeechduration</code> (default: 0.1 (seconds))
 </ul>
 Silence or speech stretches shorter than these values will be ignored.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of double pairs, representing start and end times (in seconds) for each speech stretch.</dd>
</dl>
</li>
</ul>
<a name="getSilenceCutoffFromKMeansClustering-double-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSilenceCutoffFromKMeansClustering</h4>
<pre>public&nbsp;double&nbsp;getSilenceCutoffFromKMeansClustering(double&nbsp;shiftFromMinimumEnergyCenter,
                                                   int&nbsp;numClusters)</pre>
</li>
</ul>
<a name="getSpeechStretchesUsingEnergyHistory-int-double-double-double-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSpeechStretchesUsingEnergyHistory</h4>
<pre>public&nbsp;double[][]&nbsp;getSpeechStretchesUsingEnergyHistory(int&nbsp;energyBufferLength,
                                                       double&nbsp;speechStartLikelihood,
                                                       double&nbsp;speechEndLikelihood,
                                                       double&nbsp;shiftFromMinimumEnergyCenter,
                                                       int&nbsp;numClusters)</pre>
<div class="block">The latest version uses K-Means clustering to cluster energy values into 3 separate clusters. Then, the energy threshold is
 selected using the lowest and highest energy cluster centers</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>energyBufferLength</code> - energyBufferLength</dd>
<dd><code>speechStartLikelihood</code> - speechStartLikelihood</dd>
<dd><code>speechEndLikelihood</code> - speechEndLikelihood</dd>
<dd><code>shiftFromMinimumEnergyCenter</code> - shiftFromMinimumEnergyCenter</dd>
<dd><code>numClusters</code> - numClusters</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>stretches.toArray(new double[0][0])</dd>
</dl>
</li>
</ul>
<a name="energySegmentation-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>energySegmentation</h4>
<pre>public static&nbsp;void&nbsp;energySegmentation(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Segment a WAVE file by energy, ideally one word per segment (the result might contain more); the result is saved in a file
 in transcriber format so the segmentation can be easily inspected and corrected. The parameters in:
 EnergyAnalyser.getSpeechStretchesUsingEnergyHistory(): signalproc.minsilenceduration signalproc.minspeechduration can be
 tuned to get better segmentation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - : first argument is the directory where the wav files are, next arguments in the list are the files for
            segmenting.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - : IOException, UnsupportedAudioFile exception and IllegalArgumentException when the file is not mono, it just
             handles mono audio signals.</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EnergyAnalyser.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../marytts/signalproc/analysis/ComplexLinearPredictor.html" title="class in marytts.signalproc.analysis"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../marytts/signalproc/analysis/EnergyAnalyser_dB.html" title="class in marytts.signalproc.analysis"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?marytts/signalproc/analysis/EnergyAnalyser.html" target="_top">Frames</a></li>
<li><a href="EnergyAnalyser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.marytts.signalproc.analysis.FrameBasedAnalyser">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000&#x2013;2016 <a href="http://www.dfki.de/">DFKI GmbH</a>. All rights reserved.</small></p>
</body>
</html>
