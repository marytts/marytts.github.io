<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Fri Jan 23 21:13:38 CET 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TimelineReader (marytts-runtime 5.2-SNAPSHOT API)</title>
<meta name="date" content="2015-01-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TimelineReader (marytts-runtime 5.2-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimelineReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../marytts/unitselection/data/SyllableIterator.html" title="class in marytts.unitselection.data"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?marytts/unitselection/data/TimelineReader.html" target="_top">Frames</a></li>
<li><a href="TimelineReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">marytts.unitselection.data</div>
<h2 title="Class TimelineReader" class="title">Class TimelineReader</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>marytts.unitselection.data.TimelineReader</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../marytts/unitselection/data/HnmTimelineReader.html" title="class in marytts.unitselection.data">HnmTimelineReader</a>, <a href="../../../marytts/unitselection/data/LPCTimelineReader.html" title="class in marytts.unitselection.data">LPCTimelineReader</a>, <a href="../../../marytts/unitselection/data/MCepTimelineReader.html" title="class in marytts.unitselection.data">MCepTimelineReader</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">TimelineReader</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">The TimelineReader class provides an interface to read regularly or variably spaced datagrams from a Timeline data file in Mary
 format.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>sacha, marc</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data">TimelineReader.IdxField</a></strong></code>
<div class="block">Simple helper class to read the index fields in a timeline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.Index.html" title="class in marytts.unitselection.data">TimelineReader.Index</a></strong></code>
<div class="block">Simple helper class to read the index part of a timeline file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.ProcHeader.html" title="class in marytts.unitselection.data">TimelineReader.ProcHeader</a></strong></code>
<div class="block">Simple helper class to load the processing header.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#datagramsBytePos">datagramsBytePos</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../marytts/unitselection/data/TimelineReader.Index.html" title="class in marytts.unitselection.data">TimelineReader.Index</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#idx">idx</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/MaryHeader.html?is-external=true" title="class or interface in marytts.util.data">MaryHeader</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#maryHdr">maryHdr</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#numDatagrams">numDatagrams</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../marytts/unitselection/data/TimelineReader.ProcHeader.html" title="class in marytts.unitselection.data">TimelineReader.ProcHeader</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#procHdr">procHdr</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#sampleRate">sampleRate</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#timeIdxBytePos">timeIdxBytePos</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#totalDuration">totalDuration</a></strong></code>
<div class="block">The total duration of the timeline data, in samples.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#TimelineReader()">TimelineReader</a></strong>()</code>
<div class="block">Only subclasses can instantiate a TimelineReader object that doesn't call <a href="../../../marytts/unitselection/data/TimelineReader.html#load(java.lang.String)"><code>load(String)</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#TimelineReader(java.lang.String)">TimelineReader</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Construct a timeline from the given file name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#TimelineReader(java.lang.String,%20boolean)">TimelineReader</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
              boolean&nbsp;tryMemoryMapping)</code>
<div class="block">Construct a timeline from the given file name.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#computeTotalDuration()">computeTotalDuration</a></strong>()</code>
<div class="block">Compute the total duration of a timeline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getByteBufferAtTime(long)">getByteBufferAtTime</a></strong>(long&nbsp;targetTimeInSamples)</code>
<div class="block">This method produces a new byte buffer whose current position represents the requested positionInFile.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagram(long)">getDatagram</a></strong>(long&nbsp;targetTimeInSamples)</code>
<div class="block">Get a single datagram from a particular time location, given in the timeline's sampling rate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagram(long,%20int)">getDatagram</a></strong>(long&nbsp;targetTimeInSamples,
           int&nbsp;reqSampleRate)</code>
<div class="block">Get a single datagram from a particular time location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(long,%20int,%20int,%20long[])">getDatagrams</a></strong>(long&nbsp;targetTimeInSamples,
            int&nbsp;number,
            int&nbsp;reqSampleRate,
            long[]&nbsp;returnOffset)</code>
<div class="block">Get a given number of datagrams from a particular time location, and return the time offset between the time request and
 the actual location of the first returned datagram.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(long,%20long)">getDatagrams</a></strong>(long&nbsp;targetTimeInSamples,
            long&nbsp;timeSpanInSamples)</code>
<div class="block">Get a given number of datagrams from a particular time location.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(long,%20long,%20int)">getDatagrams</a></strong>(long&nbsp;targetTimeInSamples,
            long&nbsp;timeSpanInSamples,
            int&nbsp;reqSampleRate)</code>
<div class="block">Get the datagrams spanning a particular time range from a particular time location.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(long,%20long,%20int,%20long[])">getDatagrams</a></strong>(long&nbsp;targetTimeInSamples,
            long&nbsp;timeSpanInSamples,
            int&nbsp;reqSampleRate,
            long[]&nbsp;returnOffset)</code>
<div class="block">Get the datagrams spanning a particular time range from a particular time location, and return the time offset between the
 time request and the actual location of the first returned datagram.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(marytts.unitselection.data.Unit,%20int)">getDatagrams</a></strong>(<a href="../../../marytts/unitselection/data/Unit.html" title="class in marytts.unitselection.data">Unit</a>&nbsp;unit,
            int&nbsp;reqSampleRate)</code>
<div class="block">Get the datagrams spanning a particular unit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagrams(marytts.unitselection.data.Unit,%20int,%20long[])">getDatagrams</a></strong>(<a href="../../../marytts/unitselection/data/Unit.html" title="class in marytts.unitselection.data">Unit</a>&nbsp;unit,
            int&nbsp;reqSampleRate,
            long[]&nbsp;returnOffset)</code>
<div class="block">Get the datagrams spanning a particular unit, and return the time offset between the unit request and the actual location
 of the first returned datagram.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getDatagramsBytePos()">getDatagramsBytePos</a></strong>()</code>
<div class="block">Returns the position of the datagram zone in the original file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../marytts/unitselection/data/TimelineReader.Index.html" title="class in marytts.unitselection.data">TimelineReader.Index</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getIndex()">getIndex</a></strong>()</code>
<div class="block">The index object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getMappedByteBufferAtTime(long)">getMappedByteBufferAtTime</a></strong>(long&nbsp;targetTimeInSamples)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getNextDatagram(java.nio.ByteBuffer)">getNextDatagram</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)</code>
<div class="block">Read and return the upcoming datagram from the given byte buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getNumDatagrams()">getNumDatagrams</a></strong>()</code>
<div class="block">Returns the number of datagrams in the timeline.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getProcHeaderContents()">getProcHeaderContents</a></strong>()</code>
<div class="block">Return the content of the processing header as a String.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getSampleRate()">getSampleRate</a></strong>()</code>
<div class="block">Returns the timeline's sample rate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#getTotalDuration()">getTotalDuration</a></strong>()</code>
<div class="block">Return the total duration of all data in this timeline.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#hopToTime(java.nio.ByteBuffer,%20long,%20long)">hopToTime</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb,
         long&nbsp;currentTimeInSamples,
         long&nbsp;targetTimeInSamples)</code>
<div class="block">Hop the datagrams in the given byte buffer until the one which begins at or contains the desired time (time is in samples;
 the sample rate is assumed to be that of the timeline).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#load(java.lang.String)">load</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Load a timeline from a file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#load(java.lang.String,%20boolean)">load</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
    boolean&nbsp;tryMemoryMapping)</code>
<div class="block">Load a timeline from a file.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#loadByteBufferAtTime(long)">loadByteBufferAtTime</a></strong>(long&nbsp;targetTimeInSamples)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#scaleTime(int,%20long)">scaleTime</a></strong>(int&nbsp;reqSampleRate,
         long&nbsp;targetTimeInSamples)</code>
<div class="block">Scales a discrete time to the timeline's sample rate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#skipNextDatagram(java.nio.ByteBuffer)">skipNextDatagram</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)</code>
<div class="block">Skip the upcoming datagram at the current position of the byte buffer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../marytts/unitselection/data/TimelineReader.html#unScaleTime(int,%20long)">unScaleTime</a></strong>(int&nbsp;reqSampleRate,
           long&nbsp;timelineTimeInSamples)</code>
<div class="block">Unscales a discrete time from the timeline's sample rate.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="maryHdr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maryHdr</h4>
<pre>protected&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/MaryHeader.html?is-external=true" title="class or interface in marytts.util.data">MaryHeader</a> maryHdr</pre>
</li>
</ul>
<a name="procHdr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>procHdr</h4>
<pre>protected&nbsp;<a href="../../../marytts/unitselection/data/TimelineReader.ProcHeader.html" title="class in marytts.unitselection.data">TimelineReader.ProcHeader</a> procHdr</pre>
</li>
</ul>
<a name="idx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idx</h4>
<pre>protected&nbsp;<a href="../../../marytts/unitselection/data/TimelineReader.Index.html" title="class in marytts.unitselection.data">TimelineReader.Index</a> idx</pre>
</li>
</ul>
<a name="sampleRate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sampleRate</h4>
<pre>protected&nbsp;int sampleRate</pre>
</li>
</ul>
<a name="numDatagrams">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numDatagrams</h4>
<pre>protected&nbsp;long numDatagrams</pre>
</li>
</ul>
<a name="totalDuration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>totalDuration</h4>
<pre>protected&nbsp;long totalDuration</pre>
<div class="block">The total duration of the timeline data, in samples. This is only computed upon request.</div>
</li>
</ul>
<a name="datagramsBytePos">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>datagramsBytePos</h4>
<pre>protected&nbsp;int datagramsBytePos</pre>
</li>
</ul>
<a name="timeIdxBytePos">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>timeIdxBytePos</h4>
<pre>protected&nbsp;int timeIdxBytePos</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TimelineReader(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TimelineReader</h4>
<pre>public&nbsp;TimelineReader(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
               throws <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></pre>
<div class="block">Construct a timeline from the given file name.
 
 Aiming for the fundamental guarantee: If an instance of this class is created, it is usable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The file to read the timeline from. Must be non-null and point to a valid timeline file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if null argument is given</dd>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if no timeline reader can be instantiated from fileName</dd></dl>
</li>
</ul>
<a name="TimelineReader(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TimelineReader</h4>
<pre>public&nbsp;TimelineReader(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
              boolean&nbsp;tryMemoryMapping)
               throws <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></pre>
<div class="block">Construct a timeline from the given file name.
 
 Aiming for the fundamental guarantee: If an instance of this class is created, it is usable.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The file to read the timeline from. Must be non-null and point to a valid timeline file.</dd><dd><code>tryMemoryMapping</code> - if true, will attempt to read audio data via a memory map, and fall back to piecewise reading. If false, will
            immediately go for piecewise reading using a RandomAccessFile.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - if null argument is given</dd>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if no timeline reader can be instantiated from fileName</dd></dl>
</li>
</ul>
<a name="TimelineReader()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TimelineReader</h4>
<pre>protected&nbsp;TimelineReader()</pre>
<div class="block">Only subclasses can instantiate a TimelineReader object that doesn't call <a href="../../../marytts/unitselection/data/TimelineReader.html#load(java.lang.String)"><code>load(String)</code></a>. It is their responsibility
 then to ensure the fundamental guarantee.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="load(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>protected&nbsp;void&nbsp;load(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a>,
                    <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></pre>
<div class="block">Load a timeline from a file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The file to read the timeline from. Must be non-null and point to a valid timeline file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if a problem occurs during reading</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a></code> - if a problem occurs during reading</dd>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if fileName does not point to a valid timeline file</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code></dd></dl>
</li>
</ul>
<a name="load(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre>protected&nbsp;void&nbsp;load(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
        boolean&nbsp;tryMemoryMapping)
             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a>,
                    <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a>,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></pre>
<div class="block">Load a timeline from a file.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fileName</code> - The file to read the timeline from. Must be non-null and point to a valid timeline file.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if a problem occurs during reading</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a></code> - if a problem occurs during reading</dd>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if fileName does not point to a valid timeline file</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code></dd></dl>
</li>
</ul>
<a name="getProcHeaderContents()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProcHeaderContents</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getProcHeaderContents()</pre>
<div class="block">Return the content of the processing header as a String.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a non-null string representing the proc header.</dd></dl>
</li>
</ul>
<a name="getNumDatagrams()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumDatagrams</h4>
<pre>public&nbsp;long&nbsp;getNumDatagrams()</pre>
<div class="block">Returns the number of datagrams in the timeline.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the (non-negative) number of datagrams, as a long.</dd></dl>
</li>
</ul>
<a name="getDatagramsBytePos()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagramsBytePos</h4>
<pre>protected&nbsp;long&nbsp;getDatagramsBytePos()</pre>
<div class="block">Returns the position of the datagram zone in the original file.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the byte position of the datagram zone.</dd></dl>
</li>
</ul>
<a name="getSampleRate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSampleRate</h4>
<pre>public&nbsp;int&nbsp;getSampleRate()</pre>
<div class="block">Returns the timeline's sample rate.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the sample rate as a positive integer.</dd></dl>
</li>
</ul>
<a name="getTotalDuration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalDuration</h4>
<pre>public&nbsp;long&nbsp;getTotalDuration()
                      throws <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></pre>
<div class="block">Return the total duration of all data in this timeline. Implementation note: this is an expensive operation that should not
 be used in production.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a non-negative long representing the accumulated duration of all datagrams.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if the duration cannot be obtained.</dd></dl>
</li>
</ul>
<a name="computeTotalDuration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeTotalDuration</h4>
<pre>protected&nbsp;void&nbsp;computeTotalDuration()
                             throws <a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></pre>
<div class="block">Compute the total duration of a timeline. This is an expensive method, since it goes through all datagrams to compute this
 duration. It should not normally be used in production.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://mary.dfki.de/marytts-common/apidocs/marytts/exceptions/MaryConfigurationException.html?is-external=true" title="class or interface in marytts.exceptions">MaryConfigurationException</a></code> - if the duration could not be computed.</dd></dl>
</li>
</ul>
<a name="getIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndex</h4>
<pre>public&nbsp;<a href="../../../marytts/unitselection/data/TimelineReader.Index.html" title="class in marytts.unitselection.data">TimelineReader.Index</a>&nbsp;getIndex()</pre>
<div class="block">The index object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the non-null index object.</dd></dl>
</li>
</ul>
<a name="scaleTime(int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scaleTime</h4>
<pre>protected&nbsp;long&nbsp;scaleTime(int&nbsp;reqSampleRate,
             long&nbsp;targetTimeInSamples)</pre>
<div class="block">Scales a discrete time to the timeline's sample rate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reqSampleRate</code> - the externally given sample rate.</dd><dd><code>targetTimeInSamples</code> - a discrete time, with respect to the externally given sample rate.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a discrete time, in samples with respect to the timeline's sample rate.</dd></dl>
</li>
</ul>
<a name="unScaleTime(int, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unScaleTime</h4>
<pre>protected&nbsp;long&nbsp;unScaleTime(int&nbsp;reqSampleRate,
               long&nbsp;timelineTimeInSamples)</pre>
<div class="block">Unscales a discrete time from the timeline's sample rate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>reqSampleRate</code> - the externally given sample rate.</dd><dd><code>timelineTimeInSamples</code> - a discrete time, with respect to the timeline sample rate.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a discrete time, in samples with respect to the externally given sample rate.</dd></dl>
</li>
</ul>
<a name="skipNextDatagram(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>skipNextDatagram</h4>
<pre>protected&nbsp;long&nbsp;skipNextDatagram(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)
                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Skip the upcoming datagram at the current position of the byte buffer.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the duration of the datagram we skipped</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if we cannot skip another datagram because we have reached the end of the byte buffer</dd></dl>
</li>
</ul>
<a name="getNextDatagram(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextDatagram</h4>
<pre>protected&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>&nbsp;getNextDatagram(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb)</pre>
<div class="block">Read and return the upcoming datagram from the given byte buffer. Subclasses should override this method to create
 subclasses of Datagram.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bb</code> - the timeline byte buffer to read from</dd>
<dt><span class="strong">Returns:</span></dt><dd>the current datagram, or null if EOF was encountered</dd></dl>
</li>
</ul>
<a name="hopToTime(java.nio.ByteBuffer, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hopToTime</h4>
<pre>protected&nbsp;long&nbsp;hopToTime(<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;bb,
             long&nbsp;currentTimeInSamples,
             long&nbsp;targetTimeInSamples)
                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></pre>
<div class="block">Hop the datagrams in the given byte buffer until the one which begins at or contains the desired time (time is in samples;
 the sample rate is assumed to be that of the timeline).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bb</code> - the timeline byte buffer to use. Must not be null.</dd><dd><code>currentTimeInSamples</code> - the time position corresponding to the current position of the byte buffer. Must not be negative.</dd><dd><code>targetTimeInSamples</code> - the time location to reach. Must not be less than currentTimeInSamples</dd>
<dt><span class="strong">Returns:</span></dt><dd>the actual time at which we end up after hopping. This is less than or equal to targetTimeInSamples, never greater
         than it.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if there is a problem skipping the datagrams</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is less than currentTimeInSamples</dd></dl>
</li>
</ul>
<a name="getByteBufferAtTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getByteBufferAtTime</h4>
<pre>protected&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;getByteBufferAtTime(long&nbsp;targetTimeInSamples)
                                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a></pre>
<div class="block">This method produces a new byte buffer whose current position represents the requested positionInFile. It cannot be assumed
 that a call to byteBuffer.position() produces any meaningful values. The byte buffer may represent only a part of the
 available data; however, at least one datagram can be read from the byte buffer. If no further data can be read from it, a
 new byte buffer must be obtained by calling this method again with a new target time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the time position in the file which should be accessed as a byte buffer, in samples. Must be non-negative and
            less than the total duration of the timeline.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a pair representing the byte buffer from which to read, and the exact time corresponding to the current position of
         the byte buffer. The position as such is not meaningful; the time is guaranteed to be less than or equal to
         targetTimeInSamples.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - , BufferUnderflowException if no byte buffer can be obtained for the requested time.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/nio/BufferUnderflowException.html?is-external=true" title="class or interface in java.nio">BufferUnderflowException</a></code></dd></dl>
</li>
</ul>
<a name="getMappedByteBufferAtTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMappedByteBufferAtTime</h4>
<pre>protected&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;getMappedByteBufferAtTime(long&nbsp;targetTimeInSamples)
                                                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a>,
                                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="loadByteBufferAtTime(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadByteBufferAtTime</h4>
<pre>protected&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/Pair.html?is-external=true" title="class or interface in marytts.util">Pair</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;loadByteBufferAtTime(long&nbsp;targetTimeInSamples)
                                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd></dl>
</li>
</ul>
<a name="getDatagram(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagram</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>&nbsp;getDatagram(long&nbsp;targetTimeInSamples)
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a single datagram from a particular time location, given in the timeline's sampling rate.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the datagram starting at or overlapping the given time, or null if end-of-file was encountered</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - , BufferUnderflowException if no datagram could be created from the data at the given time.</dd></dl>
</li>
</ul>
<a name="getDatagram(long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagram</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>&nbsp;getDatagram(long&nbsp;targetTimeInSamples,
                   int&nbsp;reqSampleRate)
                     throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a single datagram from a particular time location.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested times.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the datagram starting at or overlapping the given time, or null if end-of-file was encountered</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no datagram could be created from the data at the given time.</dd></dl>
</li>
</ul>
<a name="getDatagrams(long, long, int, long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(long&nbsp;targetTimeInSamples,
                      long&nbsp;timeSpanInSamples,
                      int&nbsp;reqSampleRate,
                      long[]&nbsp;returnOffset)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the datagrams spanning a particular time range from a particular time location, and return the time offset between the
 time request and the actual location of the first returned datagram. Irrespective of the value of timeSpanInSamples, at
 least one datagram is always returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd><dd><code>timeSpanInSamples</code> - the requested time span, in samples. If positive, then datagrams are selected by the given time span.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd><dd><code>returnOffset</code> - an optional output field. If it is not null, then after the call it must have length of at least 1, and the
            first array field will contain the time difference, in samples, between the time request and the actual
            beginning of the first datagram.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - , BufferUnderflowException if no data can be read at the given target time</dd></dl>
</li>
</ul>
<a name="getDatagrams(long, long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(long&nbsp;targetTimeInSamples,
                      long&nbsp;timeSpanInSamples,
                      int&nbsp;reqSampleRate)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the datagrams spanning a particular time range from a particular time location. Irrespective of the value of
 timeSpanInSamples, at least one datagram is always returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd><dd><code>timeSpanInSamples</code> - the requested time span, in samples. If positive, then datagrams are selected by the given time span.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no data can be read at the given target time</dd></dl>
</li>
</ul>
<a name="getDatagrams(long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(long&nbsp;targetTimeInSamples,
                      long&nbsp;timeSpanInSamples)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a given number of datagrams from a particular time location.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd><dd><code>number</code> - the number of datagrams to read. Even if this is <= 0, at least one datagram is always returned.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no data can be read at the given target time</dd></dl>
</li>
</ul>
<a name="getDatagrams(long, int, int, long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(long&nbsp;targetTimeInSamples,
                      int&nbsp;number,
                      int&nbsp;reqSampleRate,
                      long[]&nbsp;returnOffset)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get a given number of datagrams from a particular time location, and return the time offset between the time request and
 the actual location of the first returned datagram.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>targetTimeInSamples</code> - the requested position, in samples. Must be non-negative and less than the total duration of the timeline.</dd><dd><code>number</code> - the number of datagrams to read. Even if this is <= 0, at least one datagram is always returned.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd><dd><code>returnOffset</code> - an optional output field. If it is not null, then after the call it must have length of at least 1, and the
            first array field will contain the time difference, in samples, between the time request and the actual
            beginning of the first datagram.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no data can be read at the given target time</dd></dl>
</li>
</ul>
<a name="getDatagrams(marytts.unitselection.data.Unit, int, long[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(<a href="../../../marytts/unitselection/data/Unit.html" title="class in marytts.unitselection.data">Unit</a>&nbsp;unit,
                      int&nbsp;reqSampleRate,
                      long[]&nbsp;returnOffset)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the datagrams spanning a particular unit, and return the time offset between the unit request and the actual location
 of the first returned datagram. Irrespective of the unit duration, at least one datagram is always returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>unit</code> - The requested speech unit, containing its own position and duration.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd><dd><code>returnOffset</code> - an optional output field. If it is not null, then after the call it must have length of at least 1, and the
            first array field will contain the time difference, in samples, between the time request and the actual
            beginning of the first datagram.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no data can be read at the given target time</dd></dl>
</li>
</ul>
<a name="getDatagrams(marytts.unitselection.data.Unit, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDatagrams</h4>
<pre>public&nbsp;<a href="http://mary.dfki.de/marytts-common/apidocs/marytts/util/data/Datagram.html?is-external=true" title="class or interface in marytts.util.data">Datagram</a>[]&nbsp;getDatagrams(<a href="../../../marytts/unitselection/data/Unit.html" title="class in marytts.unitselection.data">Unit</a>&nbsp;unit,
                      int&nbsp;reqSampleRate)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Get the datagrams spanning a particular unit. Irrespective of the unit duration, at least one datagram is always returned.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>unit</code> - The requested speech unit, containing its own position and duration.</dd><dd><code>reqSampleRate</code> - the sample rate for the requested and returned times. Must be positive.</dd>
<dt><span class="strong">Returns:</span></dt><dd>an array of datagrams containing at least one datagram. If less than the requested amount of datagrams can be read,
         the number of datagrams that can be read is returned.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if targetTimeInSamples is negative, or if a returnOffset of length 0 is given.</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code> - if no data can be read at the given target time</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TimelineReader.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../marytts/unitselection/data/SyllableIterator.html" title="class in marytts.unitselection.data"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../marytts/unitselection/data/TimelineReader.IdxField.html" title="class in marytts.unitselection.data"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?marytts/unitselection/data/TimelineReader.html" target="_top">Frames</a></li>
<li><a href="TimelineReader.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2000&#x2013;2015 <a href="http://www.dfki.de/">DFKI GmbH</a>. All rights reserved.</small></p>
</body>
</html>
